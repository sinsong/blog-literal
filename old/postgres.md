---
title: postgres
date: 2018-07-14 20:38:00
tags:
- PostgreSQL
---

PostgreSQL

# 基础架构
使用客户端/服务端模型

一次会话由下列相关的进程（程序）组成：
* 一个服务器进程， 它管理数据库文件、接收来自客户端应用于数据库的联结并且代表客户端在数据库上执行操作。该数据库服务器程序叫做postgres。
* 那些需要执行数据库操作的用户的客户端（前端）应用。 客户端应用可能本身就是多种多样的：可以是一个面向文本的工具， 也可以是一个图形界面的应用，或者是一个通过访问数据库来显示网页的网页服务器，或者是一个特制的数据库管理工具。 一些客户端应用是和 PostgreSQL发布一起提供的，但绝大部分是用户开发的。 

PostgreSQL服务器可以处理来自客户端的多个并发请求。因此，它为每个链接启动（forks）一个新的进程。

# 创建一个数据库

要创建一个数据库，比如叫db，使用命令：
```sh
$ createdb db
```

允许创建任意数量的数据库。数据库名必须是以字母开头并且小于63个字符长。
默认名字是你的用户名。

# 删除数据库

使用命令：
```sh
$ dropdb db
```

这样会把所有与该数据库相关的文件删掉，而且不可取消！！！
这样做一定要考虑清楚！

# 访问数据库

对于已经创建的数据库，你可以这么访问它：
* 运行PostgreSQL的交互式终端程序，它被称为`psql`，它允许你交互的输入、编辑和执行SQL命令。
* 使用一种已有的图形化前端工具，比如pgAdmin或者带ODBC或者JDBC的东西创建和管理数据库。
* 使用多种绑定发行的语言中的一种自己写应用。

要是使用psql来访问数据库，就这样：
```sh
$ psql db
```

psql中，你将看到下面的欢迎信息：
```
psql (版本)
Type "help" for help.

db=>
```
如果提示符是：`db=#`这意味着你是数据库超级用户。

你可以输入命令，比如：
```
db=> SELECT version();

db=>SELECT current_date;

db=>SELECT 2 + 2;
```

还有一些内部命令，用反斜线开头。
比如说帮助：
```
db=> \h
```

退出命令行
```
db=> \q
```
