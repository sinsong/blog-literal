---
title: C++ 字面值常量
date: 2018-07-07 23:47:10
tags:
- C++
---

字面值常量(literal)
嵌入源代码的常量值

# 整型和浮点型字面值

数学上的整数写法，表示十进制数字。
以0开头的整数，代表八进制数字。
以`0x`或者`0X`开头的代表十六进制数字。

```C++
20   // 十进制
024  // 八进制
0x14 // 十六进制
```

# 浮点型字面值

一个小数或者科学计数法表示的指数，其中指数部分用E或者e标识：

```C++
3.14159
3.14159E0
0.
0e0
.001
```

浮点型字面值是一个double。

# 字符和字符串字面值

char型字面值由单引号括起来的一个字符！
字符串型字面值是双引号括起来的零个或者多个字符。

```C++
'a'             // 字符字面值
"Hello, world!" // 字符串字面值
```

字符串字面值的类型实际上是由常量字符构成的数组(array)。
编译器在每个字符串的结尾处添加一个空字符(`'\0'`)，因此，字符串字面值的实际长度要比它的内容多1。
如果两个字符串字面值位置紧邻且仅由空格、缩进和换行符分隔，则它们实际上是一个整体。
当书写的字符创字面值比较长，写在一行里不太合适时，就可以采取分开书写的方式。

```C++
std::cout<< "a really, really long string literal"
            "that spans two lines" << std::endl;
```

# 转义序列

由一个序列一起表示一个字符！
有些字符不能直接使用：不可打印(nonprintable)的字符（退格，换行，回车等控制字符），或者C++语言中有特殊含义的字符（单引号，双引号，问号，反斜线）。
那么这时需要转义序列(escape sequence)，而且均已反斜线开始，C++语言中的转义序列包括：

换行符          `\n`
回车符          `\r`
反斜线          `\\`
退格符          `\b`
报警（响铃）符  `\a`
问号            `\?`
横向制表符      `\t`
纵向制表符      `\v`
双引号          `\"`
单引号          `\'`
进纸符          `\f`

还有泛化的转义序列
`\x`后跟1个或者多个十六进制数字
`\`后跟1个，2个，3个八进制数字。

# 指定字面值的类型

字符和字符串字面值 前缀

|前缀|类型    |含义                         |
|:--|:-----  |:-----                        |
|u  |char16_t|Unicode 16字符                |
|U  |char32_t|Unicode 32字符                |
|L  |wchar_t |宽字符                        |
|u8 |char    |UTF-8（仅用于字符串字面值常量）|

# 布尔字面值

`true` 和 `false` 就是布尔类型的字面值。

# 指针字面值

空指针 `nullptr` 就是指针字面值。