---
title: PostgreSQL 的 SQL 选择列表
date: 2018-07-16 14:41:44
tags:
- PostgreSQL
- SQL
---

如前面的小节说明的那样， 在SELECT命令里的表表达式构造了一个中间的虚拟表， 方法可能有组合表、视图、消除行、分组等等。这个表最后被选择列表传递下去处理。选择列表判断中间表的哪个列是实际输出。 

# 选择列表项

最简单的选择列表类型是*，它发出表表达式生成的所有列。否则，一个选择列表是一个逗号分隔的值表达式的列表。

```sql
SELECT a, b, c FROM ...
```

列名字a、b和c要么是在FROM子句里引用的表中列的实际名字，要么是别名。在选择列表里可用的名字空间和在WHERE子句里的一样， 除非你使用了分组，这时候它和HAVING子句一样。 

如果超过一个表有同样的列名，那么你还必须给出表名字，如： 
```sql
SELECT tbl1.a, tbl2.a, tbl1.b FROM ...
```
在使用多个表时，要求一个特定表的所有列也是有用的： 
```sql
SELECT tbl1.*, tbl2.a FROM ...
```

# 列标签

选择列表中的项可以被赋予名字，用于进一步的处理。
```sql
SELECT a AS value, b + c AS sum FROM ...
```
如果没有使用AS指定输出列名，那么系统会分配一个缺省的列名。对于简单的列引用， 它是被引用列的名字。对于函数调用，它是函数的名字。对于复杂表达式，系统会生成一个通用的名字。 

如果别名有关键字，用AS或者双引号。
为了防止未来可能的关键字增加，推荐用AS或双引号修饰输出列名。

# DISTINCT

在处理完选择列表之后，结果表可以可选的删除重复行。我们可以直接在SELECT后面写上DISTINCT关键字来指定： 
```sql
SELECT DISTINCT select_list ...
```
